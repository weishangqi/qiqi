import{y as Ve,cb as be,c8 as we,bj as ae,cc as Ae,bz as Ze,be as je,bA as et,cd as tt,N as Y,r as M,k as G,a2 as Z,aV as xe,aA as nt,O as z,A as Be,D as Se,b2 as at,B as j,an as Ce,C as ot,ab as ee,E as Oe,a6 as st,aq as lt,j as h,K as Ie,a_ as it,ce as rt,cf as ut,aJ as ct,aK as dt,g as pt,av as ft,o as v,c as C,f as m,F as te,s as g,u as a,a0 as W,b as T,l as E,w as O,m as U,S as $,a9 as Ee,d as vt,b3 as mt,Q as ht,bL as gt,t as _,P as Pe,aI as ze,a1 as yt,a5 as bt}from"./index-Cx8TPHbv.js";import{i as $e,k as wt,l as xt,c as St,d as Ct,a as It,f as Et,e as ke}from"./use-form-item-2p89PICZ.js";import{u as Pt}from"./index-B7a9eqTr.js";const zt=()=>Ve&&/firefox/i.test(window.navigator.userAgent);function kt(e){return e}function Ft(e,o,l){switch(l.length){case 0:return e.call(o);case 1:return e.call(o,l[0]);case 2:return e.call(o,l[0],l[1]);case 3:return e.call(o,l[0],l[1],l[2])}return e.apply(o,l)}var Nt=800,Tt=16,Vt=Date.now;function At(e){var o=0,l=0;return function(){var n=Vt(),s=Tt-(n-l);if(l=n,s>0){if(++o>=Nt)return arguments[0]}else o=0;return e.apply(void 0,arguments)}}function Bt(e){return function(){return e}}var Ot=be?function(e,o){return be(e,"toString",{configurable:!0,enumerable:!1,value:Bt(o),writable:!0})}:kt,$t=At(Ot),Fe=Math.max;function Mt(e,o,l){return o=Fe(o===void 0?e.length-1:o,0),function(){for(var n=arguments,s=-1,u=Fe(n.length-o,0),r=Array(u);++s<u;)r[s]=n[o+s];s=-1;for(var i=Array(o+1);++s<o;)i[s]=n[s];return i[o]=l(r),Ft(e,this,i)}}var Ne=we?we.isConcatSpreadable:void 0;function Rt(e){return ae(e)||$e(e)||!!(Ne&&e&&e[Ne])}function Ht(e,o,l,n,s){var u=-1,r=e.length;for(l||(l=Rt),s||(s=[]);++u<r;){var i=e[u];l(i)?wt(s,i):s[s.length]=i}return s}function Lt(e){var o=e==null?0:e.length;return o?Ht(e):[]}function Dt(e){return $t(Mt(e,void 0,Lt),e+"")}function fn(){if(!arguments.length)return[];var e=arguments[0];return ae(e)?e:[e]}function Kt(e,o){return e!=null&&o in Object(e)}function Wt(e,o,l){o=Ae(o,e);for(var n=-1,s=o.length,u=!1;++n<s;){var r=Ze(o[n]);if(!(u=e!=null&&l(e,r)))break;e=e[r]}return u||++n!=s?u:(s=e==null?0:e.length,!!s&&xt(s)&&je(r,s)&&(ae(e)||$e(e)))}function Ut(e,o){return e!=null&&Wt(e,o,Kt)}function _t(e,o,l){for(var n=-1,s=o.length,u={};++n<s;){var r=o[n],i=et(e,r);l(i,r)&&tt(u,Ae(r,e),i)}return u}function Yt(e,o){return _t(e,o,function(l,n){return Ut(e,n)})}var Gt=Dt(function(e,o){return e==null?{}:Yt(e,o)});const ne="update:modelValue",vn="change",qt=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function Jt(e){let o;function l(){if(e.value==null)return;const{selectionStart:s,selectionEnd:u,value:r}=e.value;if(s==null||u==null)return;const i=r.slice(0,Math.max(0,s)),d=r.slice(Math.max(0,u));o={selectionStart:s,selectionEnd:u,value:r,beforeTxt:i,afterTxt:d}}function n(){if(e.value==null||o==null)return;const{value:s}=e.value,{beforeTxt:u,afterTxt:r,selectionStart:i}=o;if(u==null||r==null||i==null)return;let d=s.length;if(s.endsWith(r))d=s.length-r.length;else if(s.startsWith(u))d=u.length;else{const b=u[i-1],f=s.indexOf(b,i-1);f!==-1&&(d=f+1)}e.value.setSelectionRange(d,d)}return[l,n]}function Qt(e,{beforeFocus:o,afterFocus:l,beforeBlur:n,afterBlur:s}={}){const u=nt(),{emit:r}=u,i=Y(),d=M(!1),b=y=>{xe(o)&&o(y)||d.value||(d.value=!0,r("focus",y),l==null||l())},f=y=>{var w;xe(n)&&n(y)||y.relatedTarget&&((w=i.value)!=null&&w.contains(y.relatedTarget))||(d.value=!1,r("blur",y),s==null||s())},x=()=>{var y,w;(y=i.value)!=null&&y.contains(document.activeElement)&&i.value!==document.activeElement||(w=e.value)==null||w.focus()};return G(i,y=>{y&&y.setAttribute("tabindex","-1")}),Z(i,"focus",b,!0),Z(i,"blur",f,!0),Z(i,"click",x,!0),{isFocused:d,wrapperRef:i,handleFocus:b,handleBlur:f}}function Xt({afterComposition:e,emit:o}){const l=M(!1),n=i=>{o==null||o("compositionstart",i),l.value=!0},s=i=>{var d;o==null||o("compositionupdate",i);const b=(d=i.target)==null?void 0:d.value,f=b[b.length-1]||"";l.value=!qt(f)},u=i=>{o==null||o("compositionend",i),l.value&&(l.value=!1,z(()=>e(i)))};return{isComposing:l,handleComposition:i=>{i.type==="compositionend"?u(i):s(i)},handleCompositionStart:n,handleCompositionUpdate:s,handleCompositionEnd:u}}const Zt=Be({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),jt=e=>Gt(Zt,e);let S;const en=`
  height:0 !important;
  visibility:hidden !important;
  ${zt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,tn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function nn(e){const o=window.getComputedStyle(e),l=o.getPropertyValue("box-sizing"),n=Number.parseFloat(o.getPropertyValue("padding-bottom"))+Number.parseFloat(o.getPropertyValue("padding-top")),s=Number.parseFloat(o.getPropertyValue("border-bottom-width"))+Number.parseFloat(o.getPropertyValue("border-top-width"));return{contextStyle:tn.map(r=>`${r}:${o.getPropertyValue(r)}`).join(";"),paddingSize:n,borderSize:s,boxSizing:l}}function Te(e,o=1,l){var n;S||(S=document.createElement("textarea"),document.body.appendChild(S));const{paddingSize:s,borderSize:u,boxSizing:r,contextStyle:i}=nn(e);S.setAttribute("style",`${i};${en}`),S.value=e.value||e.placeholder||"";let d=S.scrollHeight;const b={};r==="border-box"?d=d+u:r==="content-box"&&(d=d-s),S.value="";const f=S.scrollHeight-s;if(Se(o)){let x=f*o;r==="border-box"&&(x=x+s+u),d=Math.max(x,d),b.minHeight=`${x}px`}if(Se(l)){let x=f*l;r==="border-box"&&(x=x+s+u),d=Math.min(x,d)}return b.height=`${d}px`,(n=S.parentNode)==null||n.removeChild(S),S=void 0,b}const an=Be({id:{type:String,default:void 0},size:at,disabled:Boolean,modelValue:{type:j([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:j([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Ce},prefixIcon:{type:Ce},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:j([Object,Array,String]),default:()=>ot({})},autofocus:Boolean,rows:{type:Number,default:2},...jt(["ariaLabel"])}),on={[ne]:e=>ee(e),input:e=>ee(e),change:e=>ee(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},sn=Oe({name:"ElInput",inheritAttrs:!1}),ln=Oe({...sn,props:an,emits:on,setup(e,{expose:o,emit:l}){const n=e,s=st(),u=Pt(),r=lt(),i=h(()=>[n.type==="textarea"?oe.b():c.b(),c.m(y.value),c.is("disabled",w.value),c.is("exceed",Ke.value),{[c.b("group")]:r.prepend||r.append,[c.m("prefix")]:r.prefix||n.prefixIcon,[c.m("suffix")]:r.suffix||n.suffixIcon||n.clearable||n.showPassword,[c.bm("suffix","password-clear")]:K.value&&J.value,[c.b("hidden")]:n.type==="hidden"},s.class]),d=h(()=>[c.e("wrapper"),c.is("focus",D.value)]),{form:b,formItem:f}=St(),{inputId:x}=Ct(n,{formItemContext:f}),y=It(),w=Et(),c=Ie("input"),oe=Ie("textarea"),R=Y(),I=Y(),q=M(!1),H=M(!1),se=M(),L=Y(n.inputStyle),k=h(()=>R.value||I.value),{wrapperRef:Me,isFocused:D,handleFocus:Re,handleBlur:He}=Qt(k,{beforeFocus(){return w.value},afterBlur(){var t;n.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"blur").catch(p=>ke()))}}),le=h(()=>{var t;return(t=b==null?void 0:b.statusIcon)!=null?t:!1}),V=h(()=>(f==null?void 0:f.validateState)||""),ie=h(()=>V.value&&it[V.value]),Le=h(()=>H.value?rt:ut),De=h(()=>[s.style]),re=h(()=>[n.inputStyle,L.value,{resize:n.resize}]),P=h(()=>ct(n.modelValue)?"":String(n.modelValue)),K=h(()=>n.clearable&&!w.value&&!n.readonly&&!!P.value&&(D.value||q.value)),J=h(()=>n.showPassword&&!w.value&&!!P.value&&(!!P.value||D.value)),F=h(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!w.value&&!n.readonly&&!n.showPassword),Q=h(()=>P.value.length),Ke=h(()=>!!F.value&&Q.value>Number(n.maxlength)),We=h(()=>!!r.suffix||!!n.suffixIcon||K.value||n.showPassword||F.value||!!V.value&&le.value),[Ue,_e]=Jt(R);dt(I,t=>{if(Ye(),!F.value||n.resize!=="both")return;const p=t[0],{width:N}=p.contentRect;se.value={right:`calc(100% - ${N+15+6}px)`}});const A=()=>{const{type:t,autosize:p}=n;if(!(!Ve||t!=="textarea"||!I.value))if(p){const N=ze(p)?p.minRows:void 0,ge=ze(p)?p.maxRows:void 0,ye=Te(I.value,N,ge);L.value={overflowY:"hidden",...ye},z(()=>{I.value.offsetHeight,L.value=ye})}else L.value={minHeight:Te(I.value).minHeight}},Ye=(t=>{let p=!1;return()=>{var N;if(p||!n.autosize)return;((N=I.value)==null?void 0:N.offsetParent)===null||(t(),p=!0)}})(A),B=()=>{const t=k.value,p=n.formatter?n.formatter(P.value):P.value;!t||t.value===p||(t.value=p)},X=async t=>{Ue();let{value:p}=t.target;if(n.formatter&&(p=n.parser?n.parser(p):p),!ce.value){if(p===P.value){B();return}l(ne,p),l("input",p),await z(),B(),_e()}},ue=t=>{l("change",t.target.value)},{isComposing:ce,handleCompositionStart:de,handleCompositionUpdate:pe,handleCompositionEnd:fe}=Xt({emit:l,afterComposition:X}),Ge=()=>{H.value=!H.value,ve()},ve=async()=>{var t;await z(),(t=k.value)==null||t.focus()},qe=()=>{var t;return(t=k.value)==null?void 0:t.blur()},Je=t=>{q.value=!1,l("mouseleave",t)},Qe=t=>{q.value=!0,l("mouseenter",t)},me=t=>{l("keydown",t)},Xe=()=>{var t;(t=k.value)==null||t.select()},he=()=>{l(ne,""),l("change",""),l("clear"),l("input","")};return G(()=>n.modelValue,()=>{var t;z(()=>A()),n.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"change").catch(p=>ke()))}),G(P,()=>B()),G(()=>n.type,async()=>{await z(),B(),A()}),pt(()=>{!n.formatter&&n.parser,B(),z(A)}),o({input:R,textarea:I,ref:k,textareaStyle:re,autosize:ft(n,"autosize"),isComposing:ce,focus:ve,blur:qe,select:Xe,clear:he,resizeTextarea:A}),(t,p)=>(v(),C("div",{class:g([a(i),{[a(c).bm("group","append")]:t.$slots.append,[a(c).bm("group","prepend")]:t.$slots.prepend}]),style:Pe(a(De)),onMouseenter:Qe,onMouseleave:Je},[m(" input "),t.type!=="textarea"?(v(),C(te,{key:0},[m(" prepend slot "),t.$slots.prepend?(v(),C("div",{key:0,class:g(a(c).be("group","prepend"))},[W(t.$slots,"prepend")],2)):m("v-if",!0),T("div",{ref_key:"wrapperRef",ref:Me,class:g(a(d))},[m(" prefix slot "),t.$slots.prefix||t.prefixIcon?(v(),C("span",{key:0,class:g(a(c).e("prefix"))},[T("span",{class:g(a(c).e("prefix-inner"))},[W(t.$slots,"prefix"),t.prefixIcon?(v(),E(a($),{key:0,class:g(a(c).e("icon"))},{default:O(()=>[(v(),E(U(t.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),T("input",Ee({id:a(x),ref_key:"input",ref:R,class:a(c).e("inner")},a(u),{minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?H.value?"text":"password":t.type,disabled:a(w),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,role:t.containerRole,onCompositionstart:a(de),onCompositionupdate:a(pe),onCompositionend:a(fe),onInput:X,onChange:ue,onKeydown:me}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),m(" suffix slot "),a(We)?(v(),C("span",{key:1,class:g(a(c).e("suffix"))},[T("span",{class:g(a(c).e("suffix-inner"))},[!a(K)||!a(J)||!a(F)?(v(),C(te,{key:0},[W(t.$slots,"suffix"),t.suffixIcon?(v(),E(a($),{key:0,class:g(a(c).e("icon"))},{default:O(()=>[(v(),E(U(t.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),a(K)?(v(),E(a($),{key:1,class:g([a(c).e("icon"),a(c).e("clear")]),onMousedown:ht(a(gt),["prevent"]),onClick:he},{default:O(()=>[vt(a(mt))]),_:1},8,["class","onMousedown"])):m("v-if",!0),a(J)?(v(),E(a($),{key:2,class:g([a(c).e("icon"),a(c).e("password")]),onClick:Ge},{default:O(()=>[(v(),E(U(a(Le))))]),_:1},8,["class"])):m("v-if",!0),a(F)?(v(),C("span",{key:3,class:g(a(c).e("count"))},[T("span",{class:g(a(c).e("count-inner"))},_(a(Q))+" / "+_(t.maxlength),3)],2)):m("v-if",!0),a(V)&&a(ie)&&a(le)?(v(),E(a($),{key:4,class:g([a(c).e("icon"),a(c).e("validateIcon"),a(c).is("loading",a(V)==="validating")])},{default:O(()=>[(v(),E(U(a(ie))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),t.$slots.append?(v(),C("div",{key:1,class:g(a(c).be("group","append"))},[W(t.$slots,"append")],2)):m("v-if",!0)],64)):(v(),C(te,{key:1},[m(" textarea "),T("textarea",Ee({id:a(x),ref_key:"textarea",ref:I,class:[a(oe).e("inner"),a(c).is("focus",a(D))]},a(u),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:a(w),readonly:t.readonly,autocomplete:t.autocomplete,style:a(re),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,role:t.containerRole,onCompositionstart:a(de),onCompositionupdate:a(pe),onCompositionend:a(fe),onInput:X,onFocus:a(Re),onBlur:a(He),onChange:ue,onKeydown:me}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),a(F)?(v(),C("span",{key:0,style:Pe(se.value),class:g(a(c).e("count"))},_(a(Q))+" / "+_(t.maxlength),7)):m("v-if",!0)],64))],38))}});var rn=yt(ln,[["__file","input.vue"]]);const mn=bt(rn);export{vn as C,mn as E,ne as U,Qt as a,jt as b,fn as c,Ht as d,Ut as h,kt as i,Mt as o,Gt as p,$t as s,Xt as u};
