import{r as s,k as h,g as D,c as o,b as m,v as y,d as u,u as c,f as E,n as V,o as i}from"./index-Cx8TPHbv.js";import{v as k}from"./el-loading--ZFekhCg.js";import{b as x,u as M}from"./article-CEqIfk45.js";import{M as b}from"./index-DL87zl-r.js";import{M as A}from"./index3-x9RzDo6E.js";/* empty css                */import{e as _}from"./emitter-E5P-NQ8u.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"article-detail"},I={class:"main-body"},N={class:"article"},L={class:"aside"},R={key:0,class:"catalog"},v="preview-only",S={__name:"articleDetail",setup(P){const l=s(!0),n=V().params.id,e=s({}),r=s(!1),p=document.documentElement;(async()=>{const t=await x(n);e.value=t.data.data,l.value=!1})();const f=async()=>{const{views:t,likes:a}=e.value;await M(n,{views:t,likes:a})},g=async()=>{e.value.views++,await f()};function w(t){const a=/^(#{1,6})\s+.+/gm;r.value=a.test(t)}return h(e,()=>{g(),w(e.value.content),_.emit("send-data",e)}),D(()=>{_.emit("send-data",e)}),(t,a)=>{const d=k;return i(),o("main",C,[m("div",I,[y((i(),o("div",N,[u(c(b),{editorId:v,modelValue:e.value.content},null,8,["modelValue"])])),[[d,l.value]])]),m("aside",L,[r.value?(i(),o("div",R,[u(c(A),{editorId:v,scrollElement:c(p),class:"custom-catalog"},null,8,["scrollElement"])])):E("",!0)])])}}},Q=B(S,[["__scopeId","data-v-da00fb31"]]);export{Q as default};
