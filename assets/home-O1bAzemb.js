import{r as d,k as w,p as z,o as r,c as v,b as t,d as c,t as u,F as k,q as y,s as E,e as m,l as C,f as I}from"./index-Cx8TPHbv.js";import{E as x,H as W,a as B,b as N,c as A,d as S}from"./stat-CD4JPJDF.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as T,g as V}from"./article-CEqIfk45.js";import{E as q}from"./el-select-DMoVQyNp.js";import"./el-tag-D4nKCsp2.js";import"./el-popper-CVASmb7O.js";import"./el-input-CTaxJvgn.js";import"./index-jEL9bEAS.js";import"./debounce-C7l1Zdmn.js";import"./index-B7a9eqTr.js";import"./use-form-item-2p89PICZ.js";import"./isEqual-CfdEZOFL.js";import"./_Uint8Array-BdXzh2eh.js";const F={class:"carousel"},M={class:"cover"},D={class:"data"},G={class:"title"},P={class:"abstract"},U={class:"bullet"},j=["onMouseover"],J={__name:"carousel",props:{articles:{type:Array,required:!0}},setup(p){const a=d({}),l=d(0);let n=null;const e=d([]),s=d(["https://sourcebucket.s3.bitiful.net/img/default_cover_127.webp","https://sourcebucket.s3.bitiful.net/img/default_cover_74.webp","https://sourcebucket.s3.bitiful.net/img/default_cover_109.webp"]),b=p;w(()=>b.articles,o=>{e.value=o.slice(0,5),s.value=e.value.map(_=>_.coverImg),$(e.value[l.value]),i()});const h=d(window.innerWidth);window.addEventListener("resize",()=>{h.value=window.innerWidth});const i=()=>{n=setInterval(()=>{l.value=(l.value+1)%e.value.length},5e3)},$=o=>{a.value={id:o.id,url:o.coverImg,date:o.createTime,title:o.title,abstract:o.content.substring(0,100)}};w(l,o=>{e.value.length>0&&$(e.value[o])}),z(()=>{clearInterval(n)});const L=async o=>{l.value=o-1};return(o,_)=>{const H=x;return r(),v("div",F,[t("div",M,[c(H,{src:a.value.url,"zoom-rate":1.2,"preview-src-list":s.value,"initial-index":l.value,lazy:""},null,8,["src","preview-src-list","initial-index"])]),t("div",{class:"content",onClick:_[0]||(_[0]=f=>o.$router.push(`/article/${a.value.id}`))},[t("div",D,[t("span",null,u(a.value.date),1)]),t("div",G,[t("h2",null,u(a.value.title),1)]),t("div",P,[t("p",null,u(a.value.abstract),1)])]),t("div",U,[(r(),v(k,null,y(5,f=>t("span",{class:E(["pag-bullet",{active:f-1===l.value}]),key:f,onMouseover:yt=>L(f)},null,42,j)),64))]),_[1]||(_[1]=t("div",{class:"button"},[t("span",null,"详情")],-1))])}}},K=g(J,[["__scopeId","data-v-fcafcc7a"]]),O={class:"item-container"},Q={class:"box-container"},R=["onClick"],X={class:"title"},Y={__name:"item",setup(p){const a=d([]);return(async()=>{const n=await T();a.value=n.data.data,console.log(a.value)})(),(n,e)=>(r(),v("div",O,[t("div",Q,[(r(!0),v(k,null,y(a.value,s=>(r(),v("div",{class:"box",key:s.id,onClick:b=>n.$router.push(`/category/${s.id}`)},[t("div",X,[t("span",null,u(s.alias)+" ("+u(s.count)+")",1)]),e[1]||(e[1]=t("div",{class:"icon"},[t("i",{class:"fas fa-arrow-circle-right"})],-1))],8,R))),128))]),t("div",{class:"box-more",onClick:e[0]||(e[0]=s=>n.$router.push("/article"))},e[2]||(e[2]=[t("span",null,"查看更多...",-1)]))]))}},Z=g(Y,[["__scopeId","data-v-c172cc10"]]),tt={class:"card-container"},st={class:"box-container"},et=["onClick"],at={class:"cover"},nt={class:"title"},ot={class:"abstract"},lt={class:"item-abstract"},it={class:"info"},rt={class:"pagination"},ct={__name:"card",props:{articles:{type:Array,required:!0}},setup(p){const a=d(["https://sourcebucket.s3.bitiful.net/img/default_cover_127.webp","https://sourcebucket.s3.bitiful.net/img/default_cover_74.webp","https://sourcebucket.s3.bitiful.net/img/default_cover_109.webp"]),l=p;w(()=>l.articles,e=>{a.value=e.map(s=>s.coverImg)});const n=d(window.innerWidth);return window.addEventListener("resize",()=>{n.value=window.innerWidth}),(e,s)=>{const b=x,h=q;return r(),v("div",tt,[t("div",st,[(r(!0),v(k,null,y(p.articles,i=>(r(),v("div",{class:"box",key:i.id,onClick:$=>e.$router.push(`/article/${i.id}`)},[t("div",at,[c(b,{src:i.coverImg,"zoom-rate":1.2,"preview-src-list":a.value,"initial-index":i.id-1,lazy:""},null,8,["src","preview-src-list","initial-index"]),s[0]||(s[0]=t("div",{class:"overlay"},null,-1)),t("div",nt,u(i.title),1)]),t("div",ot,[t("p",lt,u(i.abstract),1)]),t("div",it,[s[7]||(s[7]=t("span",null,[m("🍼置顶"),t("span",null," | ")],-1)),t("span",null,[s[1]||(s[1]=m("🎨发表于")),t("span",null,u(i.createTime),1),s[2]||(s[2]=t("span",null," | ",-1))]),t("span",null,[s[3]||(s[3]=m("🍝更新于")),t("span",null,u(i.updateTime),1),s[4]||(s[4]=t("span",null," | ",-1))]),t("span",null,[s[5]||(s[5]=m("🥧")),t("span",null,u(i.tag),1),s[6]||(s[6]=t("span",null," | ",-1))]),s[8]||(s[8]=t("span",null,[m("🍁"),t("span",null,"知识点总结")],-1))])],8,et))),128))]),t("div",rt,[n.value>=600?(r(),C(h,{key:0,background:"",layout:"prev, pager, next",total:1})):I("",!0),n.value>=350&&n.value<600?(r(),C(h,{key:1,size:"small",layout:"prev, pager, next",total:1})):I("",!0)])])}}},ut=g(ct,[["__scopeId","data-v-5ab0ef58"]]),dt={class:"home"},vt={class:"main"},pt={class:"carousel"},_t={class:"item"},mt={class:"card"},bt={class:"aside"},ht={class:"info"},ft={class:"notice"},gt={class:"link"},$t={class:"latest"},wt={class:"stat"},kt={__name:"home",setup(p){const a=d([]);return(async()=>{const n=await V();a.value=n.data.data.records,a.value.forEach(e=>{e.abstract=e.content})})(),(n,e)=>(r(),v("div",dt,[t("div",vt,[t("div",pt,[c(K,{articles:a.value},null,8,["articles"])]),t("div",_t,[c(Z)]),t("div",mt,[c(ut,{articles:a.value},null,8,["articles"])])]),t("div",bt,[t("div",ht,[c(B)]),t("div",ft,[c(N)]),t("div",gt,[c(A)]),t("div",$t,[c(W,{articles:a.value},null,8,["articles"])]),t("div",wt,[c(S)])])]))}},qt=g(kt,[["__scopeId","data-v-55a09d73"]]);export{qt as default};
